{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "command",
  "title": "Command",
  "description": "Command menu for search and quick actions.\n\nReferences:\n- Headless API: https://ark-ui.com/docs/components/listbox\n- shadcn/ui: https://ui.shadcn.com/docs/components/command",
  "dependencies": [
    "@vueuse/core",
    "lucide-vue-next",
    "@ark-ui/vue",
    "reka-ui"
  ],
  "registryDependencies": [
    "https://raw.githubusercontent.com/acfatah/shadcn-vue-ark/refs/heads/main/packages/registry/public/r/useForwardPropsEmits.json",
    "https://raw.githubusercontent.com/acfatah/shadcn-vue-ark/refs/heads/main/packages/registry/public/r/utils.json",
    "https://raw.githubusercontent.com/acfatah/shadcn-vue-ark/refs/heads/main/packages/registry/public/r/useForwardExpose.json",
    "https://raw.githubusercontent.com/acfatah/shadcn-vue-ark/refs/heads/main/packages/registry/public/r/separator.json",
    "https://raw.githubusercontent.com/acfatah/shadcn-vue-ark/refs/heads/main/packages/registry/public/r/dialog.json",
    "https://raw.githubusercontent.com/acfatah/shadcn-vue-ark/refs/heads/main/packages/registry/public/r/createContext.json"
  ],
  "files": [
    {
      "path": "src/components/ui/command/CommandRoot.vue",
      "content": "<script setup lang=\"ts\">\nimport type { ListboxRootEmits, ListboxRootProps } from '@ark-ui/vue/listbox'\nimport type { HTMLAttributes } from 'vue'\n\nimport {\n  createListCollection,\n  Listbox,\n} from '@ark-ui/vue/listbox'\nimport { reactiveOmit } from '@vueuse/core'\nimport { computed, ref } from 'vue'\n\nimport { useForwardPropsEmits } from '@/composables/useForwardPropsEmits'\nimport { cn } from '@/lib/utils'\n\nimport type { CommandItemData } from './context'\n\nimport { CommandProvider } from './context'\n\ninterface Props extends Omit<ListboxRootProps<CommandItemData>, 'collection'> {\n  class?: HTMLAttributes['class']\n}\n\nconst props = defineProps<Props>()\nconst emits = defineEmits<ListboxRootEmits<CommandItemData>>()\n\nconst delegatedProps = reactiveOmit(props, 'class')\nconst forwardedProps = useForwardPropsEmits(delegatedProps, emits)\n\nconst search = ref('')\nconst selectedValue = ref<string | null>(null)\nconst items = ref<Map<string, CommandItemData>>(new Map())\nconst groups = ref<Map<string, Set<string>>>(new Map())\n\nconst normalizedSearch = computed(() => search.value.trim().toLowerCase())\n\nconst visibleValues = computed(() => {\n  if (!normalizedSearch.value)\n    return new Set(items.value.keys())\n\n  const result = new Set<string>()\n  for (const item of items.value.values()) {\n    const label = item.label || item.value\n    const searchable = [label, ...(item.keywords ?? [])]\n      .join(' ')\n      .toLowerCase()\n\n    if (searchable.includes(normalizedSearch.value))\n      result.add(item.value)\n  }\n\n  return result\n})\n\nconst visibleGroups = computed(() => {\n  if (!normalizedSearch.value)\n    return new Set(groups.value.keys())\n\n  const result = new Set<string>()\n  for (const [groupId, groupItems] of groups.value) {\n    for (const value of groupItems) {\n      if (visibleValues.value.has(value)) {\n        result.add(groupId)\n        break\n      }\n    }\n  }\n\n  return result\n})\n\nconst collection = computed(() => {\n  const filteredItems = Array.from(items.value.values())\n    .filter(item => visibleValues.value.has(item.value))\n\n  return createListCollection<CommandItemData>({\n    items: filteredItems,\n    itemToValue: item => item.value,\n    itemToString: item => item.label,\n    isItemDisabled: item => !!item.disabled,\n  })\n})\n\nfunction registerItem(item: CommandItemData) {\n  items.value.set(item.value, item)\n  setItemGroup(item.value, item.groupId)\n}\n\nfunction unregisterItem(value: string) {\n  items.value.delete(value)\n  setItemGroup(value, undefined)\n}\n\nfunction updateItemLabel(value: string, label: string) {\n  const current = items.value.get(value)\n  if (!current)\n    return\n\n  current.label = label || current.label\n  items.value.set(value, { ...current })\n}\n\nfunction setItemGroup(value: string, groupId?: string) {\n  for (const [existingId, group] of groups.value) {\n    if (group.has(value)) {\n      group.delete(value)\n      if (group.size === 0)\n        groups.value.delete(existingId)\n    }\n  }\n\n  if (!groupId)\n    return\n\n  if (!groups.value.has(groupId))\n    groups.value.set(groupId, new Set())\n\n  groups.value.get(groupId)?.add(value)\n}\n\nfunction isItemVisible(value: string) {\n  if (!items.value.has(value))\n    return true\n\n  return visibleValues.value.has(value)\n}\n\nfunction isGroupVisible(groupId: string) {\n  if (!normalizedSearch.value)\n    return true\n\n  return visibleGroups.value.has(groupId)\n}\n\nfunction getItem(value: string) {\n  return items.value.get(value)\n}\n\nCommandProvider({\n  search,\n  selectedValue,\n  collection,\n  items,\n  groups,\n  registerItem,\n  unregisterItem,\n  updateItemLabel,\n  setItemGroup,\n  isItemVisible,\n  isGroupVisible,\n  getItem,\n})\n\nfunction handleValueChange(details: { value?: string[] }) {\n  selectedValue.value = details.value?.[0] ?? null\n}\n</script>\n\n<template>\n  <Listbox.Root\n    data-scope=\"command\"\n    data-part=\"root\"\n    v-bind=\"forwardedProps\"\n    :collection=\"collection\"\n    :class=\"cn(\n      'flex size-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground',\n      props.class,\n    )\"\n    @value-change=\"handleValueChange\"\n  >\n    <slot />\n  </Listbox.Root>\n</template>\n",
      "type": "registry:ui"
    },
    {
      "path": "src/components/ui/command/namespace.ts",
      "content": "import CommandDialog from './CommandDialog.vue'\nimport CommandEmpty from './CommandEmpty.vue'\nimport CommandGroup from './CommandGroup.vue'\nimport CommandInput from './CommandInput.vue'\nimport CommandItem from './CommandItem.vue'\nimport CommandList from './CommandList.vue'\nimport CommandRoot from './CommandRoot.vue'\nimport CommandSeparator from './CommandSeparator.vue'\nimport CommandShortcut from './CommandShortcut.vue'\n\nexport const Command = {\n  /**\n   * CommandRoot component\n   */\n  Root: CommandRoot,\n\n  /**\n   * CommandDialog component\n   *\n   * Dialog wrapper for the command palette\n   */\n  Dialog: CommandDialog,\n\n  /**\n   * CommandInput component\n   *\n   * Search input used to filter items\n   */\n  Input: CommandInput,\n\n  /**\n   * CommandList component\n   *\n   * Scrollable container for command items\n   */\n  List: CommandList,\n\n  /**\n   * CommandEmpty component\n   *\n   * Empty state shown when no results match\n   */\n  Empty: CommandEmpty,\n\n  /**\n   * CommandGroup component\n   *\n   * Groups related command items\n   */\n  Group: CommandGroup,\n\n  /**\n   * CommandItem component\n   *\n   * Represents a selectable command\n   */\n  Item: CommandItem,\n\n  /**\n   * CommandSeparator component\n   *\n   * Visual divider between groups\n   */\n  Separator: CommandSeparator,\n\n  /**\n   * CommandShortcut component\n   *\n   * Displays keyboard shortcuts for items\n   */\n  Shortcut: CommandShortcut,\n}\n",
      "type": "registry:ui"
    },
    {
      "path": "src/components/ui/command/CommandList.vue",
      "content": "<script setup lang=\"ts\">\nimport type { ListboxContentProps } from '@ark-ui/vue/listbox'\nimport type { HTMLAttributes } from 'vue'\n\nimport { Listbox } from '@ark-ui/vue/listbox'\nimport { reactiveOmit } from '@vueuse/core'\n\nimport { useForwardPropsEmits } from '@/composables/useForwardPropsEmits'\nimport { cn } from '@/lib/utils'\n\ninterface Props extends ListboxContentProps {\n  class?: HTMLAttributes['class']\n}\n\nconst props = defineProps<Props>()\nconst delegatedProps = reactiveOmit(props, 'class')\nconst forwardedProps = useForwardPropsEmits(delegatedProps)\n</script>\n\n<template>\n  <Listbox.Content\n    data-scope=\"command\"\n    data-part=\"list\"\n    v-bind=\"forwardedProps\"\n    :class=\"cn(\n      'max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto',\n      props.class,\n    )\"\n  >\n    <div role=\"presentation\">\n      <slot />\n    </div>\n  </Listbox.Content>\n</template>\n",
      "type": "registry:ui"
    },
    {
      "path": "src/components/ui/command/CommandItem.vue",
      "content": "<script setup lang=\"ts\">\nimport type { ListboxItemProps } from '@ark-ui/vue/listbox'\nimport type { HTMLAttributes } from 'vue'\n\nimport { Listbox } from '@ark-ui/vue/listbox'\nimport { reactiveOmit, useCurrentElement } from '@vueuse/core'\nimport { computed, onMounted, onUnmounted, ref, watch } from 'vue'\n\nimport { useForwardExpose } from '@/composables/useForwardExpose'\nimport { useForwardPropsEmits } from '@/composables/useForwardPropsEmits'\nimport { cn } from '@/lib/utils'\n\nimport type { CommandItemData } from './context'\n\nimport { useCommand, useCommandGroup } from './context'\n\ninterface Props extends Omit<ListboxItemProps, 'item'> {\n  value: string\n  disabled?: boolean\n  textValue?: string\n  keywords?: string[]\n  class?: HTMLAttributes['class']\n}\n\nconst props = defineProps<Props>()\nconst emits = defineEmits<{\n  (e: 'select', payload: { detail: { value: string } }): void\n}>()\n\nconst delegatedProps = reactiveOmit(props, [\n  'class',\n  'value',\n  'textValue',\n  'keywords',\n])\n\nconst forwardedProps = useForwardPropsEmits(delegatedProps)\n\nconst command = useCommand()\nconst groupContext = useCommandGroup()\n\nconst itemRef = ref()\nconst currentElement = useCurrentElement(itemRef)\n\nconst item = computed<CommandItemData>(() => {\n  const existing = command.getItem(props.value)\n  const label = existing?.label ?? props.textValue ?? props.value\n\n  return {\n    value: props.value,\n    label,\n    disabled: props.disabled ?? existing?.disabled,\n    keywords: props.keywords ?? existing?.keywords,\n    groupId: groupContext?.id ?? existing?.groupId,\n  }\n})\n\nconst isRender = computed(() => command.isItemVisible(props.value))\n\nfunction register() {\n  command.registerItem(item.value)\n}\n\nfunction unregister(value: string) {\n  command.unregisterItem(value)\n}\n\nregister()\nwatch(() => props.value, (nextValue, prevValue) => {\n  if (prevValue && prevValue !== nextValue)\n    unregister(prevValue)\n\n  register()\n})\nwatch(() => [props.disabled, props.textValue, props.keywords, groupContext?.id], register)\n\nonMounted(() => {\n  if (props.textValue)\n    return\n\n  if (!(currentElement.value instanceof HTMLElement))\n    return\n\n  command.updateItemLabel(\n    props.value,\n    currentElement.value.textContent ?? props.value,\n  )\n})\n\nonUnmounted(() => {\n  unregister(props.value)\n})\n\nuseForwardExpose()\n\nwatch(() => command.selectedValue.value, (nextValue) => {\n  if (nextValue !== props.value)\n    return\n\n  command.search.value = ''\n  emits('select', { detail: { value: props.value } })\n})\n</script>\n\n<template>\n  <Listbox.Item\n    v-if=\"isRender\"\n    ref=\"itemRef\"\n    data-scope=\"command\"\n    data-part=\"item\"\n    v-bind=\"forwardedProps\"\n    :item=\"item\"\n    :data-disabled=\"item.disabled || undefined\"\n    :class=\"cn(\n      `\n        relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm\n        outline-hidden select-none\n      `,\n      'data-highlighted:bg-accent data-highlighted:text-accent-foreground',\n      'data-disabled:pointer-events-none data-disabled:opacity-50',\n      `\n        [&_svg]:pointer-events-none [&_svg]:shrink-0\n        [&_svg:not([class*='size-'])]:size-4\n        [&_svg:not([class*='text-'])]:text-muted-foreground\n      `,\n      props.class,\n    )\"\n  >\n    <slot />\n  </Listbox.Item>\n</template>\n",
      "type": "registry:ui"
    },
    {
      "path": "src/components/ui/command/CommandInput.vue",
      "content": "<script setup lang=\"ts\">\nimport type { ListboxInputProps } from '@ark-ui/vue/listbox'\nimport type { HTMLAttributes } from 'vue'\n\nimport { Listbox } from '@ark-ui/vue/listbox'\nimport { reactiveOmit } from '@vueuse/core'\nimport { Search } from 'lucide-vue-next'\n\nimport { useForwardPropsEmits } from '@/composables/useForwardPropsEmits'\nimport { cn } from '@/lib/utils'\n\nimport { useCommand } from './context'\n\ndefineOptions({\n  inheritAttrs: false,\n})\n\nconst props = defineProps<Props>()\n\ninterface Props extends ListboxInputProps {\n  class?: HTMLAttributes['class']\n}\n\nconst delegatedProps = reactiveOmit(props, 'class') as Omit<Props, 'class'>\nconst forwardedProps = useForwardPropsEmits(delegatedProps)\n\nconst { search } = useCommand()\n\nfunction handleInput(event: Event) {\n  const target = event.target as HTMLInputElement | null\n  const value = target?.value ?? ''\n  search.value = value\n}\n</script>\n\n<template>\n  <div\n    data-scope=\"command\"\n    data-part=\"input-wrapper\"\n    class=\"flex h-9 items-center gap-2 border-b px-3\"\n  >\n    <Search class=\"size-4 shrink-0 opacity-50\" />\n    <Listbox.Input\n      v-bind=\"{ ...forwardedProps, ...$attrs }\"\n      :value=\"search\"\n      data-scope=\"command\"\n      data-part=\"input\"\n      autofocus\n      :class=\"cn(\n        `\n          flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden\n          placeholder:text-muted-foreground\n          disabled:cursor-not-allowed disabled:opacity-50\n        `,\n        props.class,\n      )\"\n      @input=\"handleInput\"\n    />\n  </div>\n</template>\n",
      "type": "registry:ui"
    },
    {
      "path": "src/components/ui/command/CommandSeparator.vue",
      "content": "<script setup lang=\"ts\">\nimport type { HTMLAttributes } from 'vue'\n\nimport { reactiveOmit } from '@vueuse/core'\n\nimport { Separator } from '@/components/ui/separator'\nimport { cn } from '@/lib/utils'\n\ninterface Props {\n  class?: HTMLAttributes['class']\n}\n\nconst props = defineProps<Props>()\nconst delegatedProps = reactiveOmit(props, 'class')\n</script>\n\n<template>\n  <Separator\n    data-scope=\"command\"\n    data-part=\"separator\"\n    v-bind=\"delegatedProps\"\n    :class=\"cn(\n      '-mx-1 h-px bg-border',\n      props.class,\n    )\"\n  />\n</template>\n",
      "type": "registry:ui"
    },
    {
      "path": "src/components/ui/command/CommandGroup.vue",
      "content": "<script setup lang=\"ts\">\nimport type { ListboxItemGroupProps } from '@ark-ui/vue/listbox'\nimport type { HTMLAttributes } from 'vue'\n\nimport { Listbox } from '@ark-ui/vue/listbox'\nimport { reactiveOmit } from '@vueuse/core'\nimport { computed, onMounted, onUnmounted, useId } from 'vue'\n\nimport { cn } from '@/lib/utils'\n\nimport { CommandGroupProvider, useCommand } from './context'\n\ninterface Props extends ListboxItemGroupProps {\n  class?: HTMLAttributes['class']\n  heading?: string\n}\n\nconst props = defineProps<Props>()\nconst delegatedProps = reactiveOmit(props, 'class', 'heading')\n\nconst { groups, isGroupVisible } = useCommand()\nconst id = props.id ?? useId()\n\nconst isRender = computed(() => isGroupVisible(id))\n\nCommandGroupProvider({ id })\nonMounted(() => {\n  if (!groups.value.has(id))\n    groups.value.set(id, new Set())\n})\nonUnmounted(() => {\n  groups.value.delete(id)\n})\n</script>\n\n<template>\n  <Listbox.ItemGroup\n    v-bind=\"delegatedProps\"\n    :id=\"id\"\n    data-scope=\"command\"\n    data-part=\"group\"\n    :class=\"cn(\n      'overflow-hidden p-1 text-foreground',\n      props.class,\n    )\"\n    :hidden=\"isRender ? undefined : true\"\n  >\n    <Listbox.ItemGroupLabel\n      v-if=\"heading\"\n      data-scope=\"command\"\n      data-part=\"group-heading\"\n      class=\"px-2 py-1.5 text-xs font-medium text-muted-foreground\"\n    >\n      {{ heading }}\n    </Listbox.ItemGroupLabel>\n    <slot />\n  </Listbox.ItemGroup>\n</template>\n",
      "type": "registry:ui"
    },
    {
      "path": "src/components/ui/command/CommandDialog.vue",
      "content": "<script setup lang=\"ts\">\nimport type { DialogRootEmits, DialogRootProps } from '@ark-ui/vue'\n\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n} from '@/components/ui/dialog'\nimport { useForwardPropsEmits } from '@/composables/useForwardPropsEmits'\n\nimport Command from './CommandRoot.vue'\n\nconst props = withDefaults(defineProps<DialogRootProps & {\n  title?: string\n  description?: string\n}>(), {\n  title: 'Command Palette',\n  description: 'Search for a command to run...',\n})\nconst emits = defineEmits<DialogRootEmits>()\n\nconst forwarded = useForwardPropsEmits(props, emits)\n</script>\n\n<template>\n  <Dialog v-slot=\"slotProps\" v-bind=\"forwarded\">\n    <DialogContent class=\"overflow-hidden p-0\">\n      <DialogHeader class=\"sr-only\">\n        <DialogTitle>{{ title }}</DialogTitle>\n        <DialogDescription>{{ description }}</DialogDescription>\n      </DialogHeader>\n      <Command>\n        <slot v-bind=\"slotProps\" />\n      </Command>\n    </DialogContent>\n  </Dialog>\n</template>\n",
      "type": "registry:ui"
    },
    {
      "path": "src/components/ui/command/index.ts",
      "content": "export { default as CommandDialog } from './CommandDialog.vue'\nexport { default as CommandEmpty } from './CommandEmpty.vue'\nexport { default as CommandGroup } from './CommandGroup.vue'\nexport { default as CommandInput } from './CommandInput.vue'\nexport { default as CommandItem } from './CommandItem.vue'\nexport { default as CommandList } from './CommandList.vue'\nexport { default as CommandRoot } from './CommandRoot.vue'\nexport { default as CommandSeparator } from './CommandSeparator.vue'\nexport { default as CommandShortcut } from './CommandShortcut.vue'\nexport {\n  CommandGroupProvider,\n  CommandProvider,\n  useCommand,\n  useCommandGroup,\n} from './context'\nexport { Command } from './namespace'\n",
      "type": "registry:ui"
    },
    {
      "path": "src/components/ui/command/CommandShortcut.vue",
      "content": "<script setup lang=\"ts\">\nimport type { HTMLAttributes } from 'vue'\n\nimport { cn } from '@/lib/utils'\n\nconst props = defineProps<{\n  class?: HTMLAttributes['class']\n}>()\n</script>\n\n<template>\n  <span\n    data-scope=\"command\"\n    data-part=\"shortcut\"\n    :class=\"cn(\n      'ml-auto text-xs tracking-widest text-muted-foreground',\n      props.class,\n    )\"\n  >\n    <slot />\n  </span>\n</template>\n",
      "type": "registry:ui"
    },
    {
      "path": "src/composables/useForwardPropsEmits.ts",
      "content": "import { computed } from 'vue'\n\nimport { useEmitAsProps } from './useEmitsAsProps'\nimport { useForwardProps } from './useForwardProps'\n\n/**\n * The function `useForwardPropsEmits` takes in props and an optional emit function,\n * and returns a computed object that combines the parsed props and emits as props.\n *\n * @param {T} props - The `props` parameter is of type `T`, which is a generic type\n *                    that extends the parameters of the `useForwardProps` function.\n *                    It represents the props object that is passed to the\n *                    `useForwardProps` function.\n * @param [emit] - The `emit` parameter is a function that can be used to emit events.\n *                 It takes two arguments: `name`, which is the name of the event\n *                 to be emitted, and `args`, which are the arguments to be passed\n *                 along with the event.\n * @returns a computed property that combines the parsed\n *          props and emits as props.\n *\n * **Attribution to the Radix Vue team**\n *\n * Docs: https://www.radix-vue.com/utilities/use-forward-props-emits.html\n *\n * Source: https://github.com/unovue/reka-ui/blob/v2/packages/core/src/shared/useForwardPropsEmits.ts\n */\nexport function useForwardPropsEmits<\n  T extends Parameters<typeof useForwardProps>[0],\n  Name extends string,\n>(\n  props: T,\n  emit?: (name: Name, ...args: any[]) => void,\n) {\n  const parsedProps = useForwardProps(props)\n  const emitsAsProps = emit ? useEmitAsProps(emit) : {}\n\n  return computed(() => ({\n    ...parsedProps.value,\n    ...emitsAsProps,\n  }))\n}\n",
      "type": "registry:file",
      "target": "src/composables/useForwardPropsEmits.ts"
    },
    {
      "path": "src/composables/useForwardExpose.ts",
      "content": "import type { ComponentPublicInstance } from 'vue'\n\nimport { computed, getCurrentInstance, ref } from 'vue'\n\nimport { unrefElement } from './unrefElement'\n\nfunction isElement(el: any): el is Element {\n  return Object.prototype.hasOwnProperty.call(el, 'nodeName') && typeof el.nodeName === 'string'\n}\n\n/**\n * Forward component's exposed `value`, `props` and `$el`\n *\n * **Attribution to the Radix Vue team**\n *\n * Docs: https://reka-ui.com/docs/utilities/use-forward-expose#useforwardexpose\n *\n * Source: https://github.com/radix-vue/radix-vue/blob/main/packages/radix-vue/src/shared/useForwardExpose.ts\n */\nexport function useForwardExpose() {\n  // biome-ignore lint/style/noNonNullAssertion: intentional\n  const instance = getCurrentInstance()!\n\n  const currentRef = ref<Element | ComponentPublicInstance | null>()\n\n  const currentElement = computed<HTMLElement>(() => {\n    // $el could be text/comment for non-single root normal or text root, thus we retrieve the nextElementSibling\n    // @ts-expect-error ignore ts error\n    return ['#text', '#comment'].includes(currentRef.value?.$el.nodeName)\n      // @ts-expect-error ignore ts error\n      ? currentRef.value?.$el.nextElementSibling\n      // @ts-expect-error ignore ts error\n      : unrefElement(currentRef)\n  })\n\n  // localExpose should only be assigned once else will create infinite loop\n\n  const localExpose: Record<string, any> | null = Object.assign({}, instance.exposed)\n\n  const ret: Record<string, any> = {}\n\n  // retrieve props for current instance\n  for (const key in instance.props) {\n    Object.defineProperty(ret, key, {\n      enumerable: true,\n      configurable: true,\n      get: () => instance.props[key],\n    })\n  }\n\n  // retrieve default exposed value\n  if (Object.keys(localExpose).length > 0) {\n    for (const key in localExpose) {\n      Object.defineProperty(ret, key, {\n        enumerable: true,\n        configurable: true,\n        // biome-ignore lint/style/noNonNullAssertion: intentional\n        get: () => localExpose![key],\n      })\n    }\n  }\n\n  // retrieve original first root element\n  Object.defineProperty(ret, '$el', {\n    enumerable: true,\n    configurable: true,\n    get: () => instance.vnode.el,\n  })\n\n  instance.exposed = ret\n\n  function forwardRef(ref: Element | ComponentPublicInstance | null) {\n    currentRef.value = ref\n\n    if (isElement(ref) || !ref)\n      return\n\n    // retrieve the forwarded element\n    Object.defineProperty(ret, '$el', {\n      enumerable: true,\n      configurable: true,\n      get: () => ref.$el,\n    })\n\n    instance.exposed = ret\n  }\n\n  return { forwardRef, currentRef, currentElement }\n}\n",
      "type": "registry:file",
      "target": "src/composables/useForwardExpose.ts"
    },
    {
      "path": "src/lib/utils.ts",
      "content": "import type { ClassValue } from 'clsx'\n\nimport { clsx } from 'clsx'\nimport { twMerge } from 'tailwind-merge'\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n",
      "type": "registry:file",
      "target": "src/lib/utils.ts"
    },
    {
      "path": "src/components/ui/command/context.ts",
      "content": "import type { CollectionItem, ListCollection } from '@ark-ui/vue/listbox'\nimport type { ComputedRef, Ref } from 'vue'\n\nimport { createContext } from '@/composables/createContext'\n\nexport interface CommandItemData extends CollectionItem {\n  value: string\n  label: string\n  disabled?: boolean\n  keywords?: string[]\n  groupId?: string\n}\n\nexport interface CommandContext {\n  search: Ref<string>\n  selectedValue: Ref<string | null>\n  collection: ComputedRef<ListCollection<CommandItemData>>\n  items: Ref<Map<string, CommandItemData>>\n  groups: Ref<Map<string, Set<string>>>\n  registerItem: (item: CommandItemData) => void\n  unregisterItem: (value: string) => void\n  updateItemLabel: (value: string, label: string) => void\n  setItemGroup: (value: string, groupId?: string) => void\n  isItemVisible: (value: string) => boolean\n  isGroupVisible: (groupId: string) => boolean\n  getItem: (value: string) => CommandItemData | undefined\n}\n\nexport interface CommandGroupContext {\n  id?: string\n}\n\nexport const [CommandProvider, useCommand]\n  = createContext<CommandContext>('Command')\n\nexport const [CommandGroupProvider, useCommandGroup]\n  = createContext<CommandGroupContext>('CommandGroup')\n",
      "type": "registry:ui"
    },
    {
      "path": "src/components/ui/command/CommandEmpty.vue",
      "content": "<script setup lang=\"ts\">\nimport type { ListboxEmptyProps } from '@ark-ui/vue/listbox'\nimport type { HTMLAttributes } from 'vue'\n\nimport { Listbox } from '@ark-ui/vue/listbox'\nimport { reactiveOmit } from '@vueuse/core'\n\nimport { useForwardPropsEmits } from '@/composables/useForwardPropsEmits'\nimport { cn } from '@/lib/utils'\n\ninterface Props extends ListboxEmptyProps {\n  class?: HTMLAttributes['class']\n}\n\nconst props = defineProps<Props>()\nconst delegatedProps = reactiveOmit(props, 'class')\nconst forwardedProps = useForwardPropsEmits(delegatedProps)\n</script>\n\n<template>\n  <Listbox.Empty\n    data-scope=\"command\"\n    data-part=\"empty\"\n    v-bind=\"forwardedProps\"\n    :class=\"cn(\n      'py-6 text-center text-sm',\n      props.class,\n    )\"\n  >\n    <slot />\n  </Listbox.Empty>\n</template>\n",
      "type": "registry:ui"
    }
  ],
  "type": "registry:ui"
}